# 實驗 4: EfficientNet-B0 + 256px + 極長訓練
# 預期提升: +4-6% (目標: 84-86%)
# 訓練時間: ~2.5 hours
# GPU 記憶體: ~3.2GB (最省記憶體)

inherits: configs/base.yaml

model:
  name: efficientnet_b0
  img_size: 256

train:
  seed: 789
  epochs: 40
  batch_size: 14
  num_workers: 4
  lr: 0.00015
  weight_decay: 0.0001
  optimizer: adamw
  scheduler: cosine
  warmup_epochs: 6
  use_weighted_sampler: true

  # Focal Loss
  loss: focal_improved
  focal_gamma: 2.2
  focal_alpha: [1.0, 1.6, 2.0, 3.5]
  label_smoothing: 0.1

  # Mixup/CutMix
  use_mixup: true
  mixup_alpha: 0.7
  mixup_prob: 0.5

  # SWA
  use_swa: true
  swa_start: 32
  swa_lr: 0.00003

  # Medium augmentation
  advanced_aug: true
  aug_rotation: 18
  aug_translate: 0.12
  aug_scale_min: 0.88
  aug_scale_max: 1.12
  aug_shear: 12
  random_erasing_prob: 0.28

perf:
  amp_dtype: fp16
  channels_last: true
  cudnn_benchmark: true
  tf32: medium

out:
  dir: outputs/exp4_efficientnet_b0
  submission_path: C:/Users/thc1006/Desktop/114-1/nycu-CSIC30014-LAB3/submission_exp4.csv
