# Medical-optimized configuration for COVID-19 detection

data:
  images_dir_train: C:/Users/thc1006/Desktop/114-1/nycu-CSIC30014-LAB3/train_images
  images_dir_val:   C:/Users/thc1006/Desktop/114-1/nycu-CSIC30014-LAB3/val_images
  images_dir_test:  C:/Users/thc1006/Desktop/114-1/nycu-CSIC30014-LAB3/test_images
  train_csv: C:/Users/thc1006/Desktop/114-1/nycu-CSIC30014-LAB3/data/train_data.csv
  val_csv:   C:/Users/thc1006/Desktop/114-1/nycu-CSIC30014-LAB3/data/val_data.csv
  test_csv:  C:/Users/thc1006/Desktop/114-1/nycu-CSIC30014-LAB3/data/test_data.csv
  file_col: new_filename
  label_cols: [normal, bacteria, virus, COVID-19]
  submission_cols: [normal, bacteria, virus, COVID-19]
  submission_file_col: new_filename
  num_classes: 4

train:
  seed: 42
  epochs: 15                        # Increased for better convergence
  batch_size: 16                    # Balanced for RTX 3050
  num_workers: 4
  lr: 0.0002                        # Slightly lower learning rate
  weight_decay: 0.0001
  optimizer: adamw
  scheduler: cosine
  warmup_epochs: 2                  # Longer warmup for stability
  use_weighted_sampler: true        # Critical for COVID-19 (0.97% of data)
  loss: medical_focal               # Use medical focal loss
  label_smoothing: 0.08             # Higher smoothing for robustness
  advanced_aug: true                # Enable medical-specific augmentation

perf:
  amp_dtype: bf16                   # BF16 for stability
  channels_last: true
  cudnn_benchmark: true
  tf32: medium

model:
  name: resnet18                    # Using ResNet18 (baseline model available)
  img_size: 256                     # Slightly higher resolution for medical details

out:
  dir: outputs/medical_optimized
  submission_path: C:/Users/thc1006/Desktop/114-1/nycu-CSIC30014-LAB3/data/submission_medical.csv
